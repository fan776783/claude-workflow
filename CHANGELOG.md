# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

---

## [1.2.7] - 2026-01-08

### Added
- **figma-ui skill**ï¼šé‡å‘½åè‡ª `workflow-ui-restore`ï¼ŒFigma è®¾è®¡ç¨¿åˆ°ä»£ç çš„è‡ªåŠ¨åŒ–å·¥ä½œæµ
  - **èµ„æºè¿½è¸ªæœºåˆ¶**ï¼šä½¿ç”¨ `assetMapping` è¿½è¸ªæ‰€æœ‰ä¸‹è½½çš„èµ„æºï¼ˆåŒ…æ‹¬é‡å‘½åå¤±è´¥çš„ï¼‰
  - **æ–‡ä»¶å¯¹æ¯”**ï¼šè°ƒç”¨ Figma MCP å‰åå¯¹æ¯”æ–‡ä»¶åˆ—è¡¨ï¼Œç²¾å‡†è¯†åˆ«æ–°ä¸‹è½½çš„èµ„æº
  - **hash æ–‡ä»¶æ”¯æŒ**ï¼šæ­£ç¡®å¤„ç† Figma ä¸‹è½½çš„ hash æ ¼å¼æ–‡ä»¶ï¼ˆå¦‚ `7f48...svg`ï¼‰
- **CLAUDE.md Figma è§„åˆ™**ï¼šæ–°å¢å¼ºåˆ¶è°ƒç”¨ `figma-ui` skill çš„è§¦å‘æ¡ä»¶
- **debug å‘½ä»¤å½±å“æ€§åˆ†æ**ï¼šæ–°å¢ Phase 3.5
  - ä¾èµ–é“¾åˆ†æï¼ˆä½¿ç”¨ codebase-retrievalï¼‰
  - æ•°æ®æµè¿½è¸ªï¼ˆå…±äº«çŠ¶æ€æ£€æŸ¥ï¼‰
  - æµ‹è¯•è¦†ç›–æ£€æŸ¥
  - å›å½’é£é™©è¯„ä¼°ï¼ˆğŸ”´é«˜/ğŸŸ¡ä¸­/ğŸŸ¢ä½ï¼‰

### Fixed
- **èµ„æºæ¸…ç†é—æ¼**ï¼šä¿®å¤æœªé‡å‘½åçš„èµ„æºæ–‡ä»¶åœ¨æ¸…ç†æ—¶è¢«å¿½ç•¥çš„ bug
- **Glob æ¨¡å¼åŒ¹é…é—®é¢˜**ï¼šæ”¹ç”¨ `assetMapping` è¿½è¸ªæ›¿ä»£ `${componentName}-*.*` æ¨¡å¼åŒ¹é…

### Changed
- `workflow-ui-restore` â†’ `figma-ui`ï¼šskill é‡å‘½åï¼Œæ›´ç›´è§‚çš„å‘½å
- èµ„æºé‡å‘½åå‡½æ•°æ¥æ”¶ `newlyDownloadedFiles` å‚æ•°ï¼Œåªå¤„ç†æœ¬æ¬¡ä¸‹è½½çš„æ–‡ä»¶

---

## [1.2.6] - 2026-01-07

### Added
- **ç»†ç²’åº¦é˜¶æ®µå®šä¹‰**ï¼šå°†åŸæœ‰ 5 ä¸ªé˜¶æ®µæ‰©å±•ä¸º 9 ä¸ªï¼Œé¿å…å•ä¸ª phase ä»»åŠ¡è¿‡å¤šå¯¼è‡´ä¸Šä¸‹æ–‡æº¢å‡º
  - `design`: æ¥å£è®¾è®¡ã€æ¶æ„è®¾è®¡ã€ç±»å‹å®šä¹‰
  - `infra`: Storeã€å·¥å…·å‡½æ•°ã€æŒ‡ä»¤ã€å®ˆå«
  - `ui-layout`: é¡µé¢å¸ƒå±€ã€è·¯ç”±ã€èœå•é…ç½®
  - `ui-display`: å±•ç¤ºç»„ä»¶ï¼ˆå¡ç‰‡ã€è¡¨æ ¼ã€åˆ—è¡¨ï¼‰
  - `ui-form`: è¡¨å•ç»„ä»¶ï¼ˆå¼¹çª—ã€è¾“å…¥ã€é€‰æ‹©å™¨ï¼‰
  - `ui-integrate`: ç»„ä»¶é›†æˆã€æ³¨å†Œã€ç»„è£…
  - `test`/`verify`/`deliver`: ä¿æŒä¸å˜
- **è¿ç»­ä»»åŠ¡æ•°é™åˆ¶**ï¼šå…œåº•æœºåˆ¶ï¼Œè¿ç»­æ‰§è¡Œè¶…è¿‡ 5 ä¸ªä»»åŠ¡æ—¶å¼ºåˆ¶æš‚åœ
- **state.consecutive_count**ï¼šè¿½è¸ªå½“å‰ä¼šè¯è¿ç»­æ‰§è¡Œçš„ä»»åŠ¡æ•°

### Changed
- `workflow-start.md` å’Œ `workflow-execute.md` çš„ `determinePhase`/`extractPhaseFromTask` å‡½æ•°åŒæ­¥æ›´æ–°
- æš‚åœæ—¶æç¤ºæ–°å¼€ä¼šè¯é¿å…ä¸Šä¸‹æ–‡å‹ç¼©

---

## [1.2.5] - 2026-01-07

### Fixed
- **P0 è·¯å¾„ç©¿è¶Šæ¼æ´**ï¼šæ–°å¢ `resolveUnder()` ç»Ÿä¸€è·¯å¾„å®‰å…¨å‡½æ•°ï¼Œé˜²æ­¢ `../` è·¯å¾„ç©¿è¶Šæ”»å‡»
- **P0 æ­£åˆ™æ•è· emoji ä¸¢å¤±**ï¼šä¿®å¤ `extractCurrentTask()` æ­£åˆ™ï¼Œæ­£ç¡®å¤„ç†æ ‡é¢˜ä¸­çš„çŠ¶æ€ emoji
- **P0 Subagent å¤±è´¥å¤„ç†**ï¼šæ·»åŠ  try/catch + JSON è§£æï¼Œé‡‡ç”¨ fail-closed ç­–ç•¥
- **P1 phase å®šä¹‰ä¸ä¸€è‡´**ï¼šç»Ÿä¸€é˜¶æ®µè¯­ä¹‰å®šä¹‰
- **P1 quality_gate è§£æç¡¬ç¼–ç **ï¼šä½¿ç”¨ `parseQualityGate()` ç»Ÿä¸€è§£æ
- **P1 emoji å¤„ç†ç¡¬ç¼–ç **ï¼šä½¿ç”¨ `STATUS_EMOJI_REGEX` ç»Ÿä¸€å¤„ç†
- **P2 failed.push æ— å»é‡**ï¼šä½¿ç”¨ `addUnique()` æ›¿ä»£ç›´æ¥ push
- **P2 extractSection æ­£åˆ™æ³¨å…¥**ï¼šä½¿ç”¨ `escapeRegExp()` è½¬ä¹‰

### Added
- **use_subagent è‡ªåŠ¨è®¾ç½®**ï¼šä»»åŠ¡æ•° > 5 æ—¶è‡ªåŠ¨åœ¨ workflow-state.json ä¸­è®¾ç½® `use_subagent: true`
- **å…±äº«å·¥å…·å‡½æ•°**ï¼š`resolveUnder`, `escapeRegExp`, `getStatusEmoji`, `parseQualityGate`, `addUnique`

### Changed
- åŒæ­¥ä¿®å¤åˆ° `workflow-status.md`, `workflow-retry-step.md`, `workflow-skip-step.md`

---

## [1.2.3] - 2026-01-06

### Changed
- **ç§»é™¤ agents ç›®å½•**ï¼šå°† `vitest-tester` æŒ‡ä»¤å†…åµŒåˆ° `/write-tests` å‘½ä»¤ï¼Œç§»é™¤æœªä½¿ç”¨çš„ `requirements-analyst` å’Œ `senior-code-architect`
- ç®€åŒ–æ¨¡æ¿ç»“æ„ï¼Œ`TEMPLATE_DIRS` ä» 7 ä¸ªå‡å°‘åˆ° 6 ä¸ª

---

## [1.2.2] - 2026-01-06

### Fixed
- **git_commit å®‰å…¨åŠ å›º**ï¼šä½¿ç”¨ä¸´æ—¶æ–‡ä»¶ `git commit -F` æ›¿ä»£ heredocï¼Œé¿å… shell æ³¨å…¥ï¼›æ–°å¢ç”¨æˆ·ç¡®è®¤å¯¹è¯æ¡†
- **run_tests å¯é…ç½®åŒ–**ï¼šä» `project-config.json` è¯»å–æµ‹è¯•å‘½ä»¤ï¼Œæœªé…ç½®åˆ™è·³è¿‡ï¼ˆä¸å†ç¡¬ç¼–ç  `npm test`ï¼‰
- **tech_design è·¯å¾„æ ¡éªŒ**ï¼šæ–°å¢ `validateTechDesignPath()` é˜²æ­¢è·¯å¾„ç©¿è¶Šæ”»å‡»
- **cwd å¼•å·ä¿®å¤**ï¼š`codeagent-wrapper` è°ƒç”¨ä¸­ `${process.cwd()}` æ·»åŠ åŒå¼•å·ï¼Œæ”¯æŒå«ç©ºæ ¼è·¯å¾„
- **çŠ¶æ€æ•°ç»„å»é‡**ï¼šæ–°å¢ `addUnique()` å‡½æ•°ï¼Œé˜²æ­¢ `completed/failed/skipped` æ•°ç»„ç´¯ç§¯é‡å¤é¡¹
- **$ æ›¿æ¢ token ä¿®å¤**ï¼š`updateTaskStatusInMarkdown()` ä½¿ç”¨ replacer å‡½æ•°ï¼Œé¿å…çŠ¶æ€æ–‡æœ¬ä¸­çš„ `$` è¢«è¯¯è§£æ
- **ä»»åŠ¡æå–æ­£åˆ™å®½æ¾åŒ–**ï¼šå…è®¸ `<!-- id: -->` æ³¨é‡Šå‰åæœ‰å¯é€‰ç©ºæ ¼ï¼Œæé«˜æ‰‹åŠ¨ç¼–è¾‘ `tasks.md` çš„å®¹é”™æ€§

### Changed
- å·¥ä½œæµæ¨¡æ¿ v1 â†’ v2 é‡æ„ï¼ˆç®€åŒ–çŠ¶æ€ç®¡ç†ï¼‰

---

## [Unreleased]

### Added
- **äºŒè¿›åˆ¶å®‰è£…éªŒè¯**ï¼šå®‰è£…åè¿è¡Œ `--version` éªŒè¯ `codeagent-wrapper` å¯æ‰§è¡Œ
- **PATH è‡ªåŠ¨é…ç½®**ï¼š
  - macOS/Linuxï¼šè¯¢é—®ç”¨æˆ·æ˜¯å¦è‡ªåŠ¨é…ç½® PATHï¼Œè‡ªåŠ¨è¿½åŠ åˆ° `~/.zshrc` æˆ– `~/.bashrc`
  - Windowsï¼šæä¾›è¯¦ç»†çš„å›¾å½¢ç•Œé¢æ­¥éª¤ + PowerShell å‘½ä»¤
  - æ£€æµ‹æ˜¯å¦å·²é…ç½®ï¼Œé¿å…é‡å¤æ·»åŠ 
- **å®‰è£…çŠ¶æ€è·Ÿè¸ª**ï¼š`meta.json` è®°å½•å®Œæ•´å®‰è£…çŠ¶æ€ï¼ˆæ¨¡æ¿ã€äºŒè¿›åˆ¶ã€é”™è¯¯ä¿¡æ¯ï¼‰
- **æ¨¡æ¿ç›®å½•è¡¥å…¨**ï¼š`TEMPLATE_DIRS` å¢åŠ  `specs` å’Œ `project` ç›®å½•

### Changed
- ä¼˜åŒ–é…ç½®æ–‡ä»¶åˆ›å»ºé¡ºåºï¼Œç¡®ä¿å³ä½¿å®‰è£…å¤±è´¥ä¹Ÿèƒ½è®°å½•çŠ¶æ€
- æ¨¡æ¿å®‰è£…å’ŒäºŒè¿›åˆ¶å®‰è£…åˆ†åˆ« try-catchï¼Œäº’ä¸å½±å“

---

## [1.1.2] - 2026-01-05

### Changed
- åŒæ­¥ ccg-workflow æ›´æ–°
- æ›´æ–° installer é€»è¾‘

---

## [1.1.1] - 2026-01-05

### Changed
- æ›´æ–° debug å‘½ä»¤æ¨¡æ¿
- åŒæ­¥ ccg æ›´æ–°

---

## [1.1.0] - 2026-01-05

### Changed
- åŒæ­¥ ccg æ›´æ–°
- æ›´æ–° review å’Œ analyze å‘½ä»¤

---

## [1.0.5] - 2025-12-16

### Changed
- **CLAUDE.md é‡æ„**ï¼šé‡æ–°ç»„ç»‡å·¥ä½œæµé˜¶æ®µå’Œèµ„æºçŸ©é˜µ
- åˆ é™¤è¿‡æ—¶çš„ docs æ¨¡æ¿æ–‡ä»¶ï¼ˆ7ä¸ªï¼‰
- ä» `TEMPLATE_DIRS` ç§»é™¤ `docs` ç›®å½•

---

## [1.0.4] - 2025-12-10

### Added
- **diff-review å‘½ä»¤**ï¼šæ–°å¢ `diff-review-deep.md` å’Œ `diff-review-ui.md`
- å¢å¼º workflow æ¨¡æ¿ç»“æ„

### Changed
- æ›´æ–° `workflow-start.md` ç»“æ„
- å¢å¼º `init-project-config.md` é…ç½®

---

## [1.0.3] - 2025-12-03

### Added
- **ä¸Šä¸‹æ–‡ç®¡ç†**ï¼šå·¥ä½œæµä¸Šä¸‹æ–‡æ¢å¤ï¼ˆ`/clear` åè‡ªåŠ¨æ¢å¤ï¼‰
- **å†…å­˜è·Ÿè¸ª**ï¼šæ™ºèƒ½ä¸Šä¸‹æ–‡æ¸…ç†æ£€æµ‹
- **å†…å­˜æ›´æ–°åŠ©æ‰‹**ï¼šéœ€æ±‚ã€å†³ç­–ã€é—®é¢˜çš„æ›´æ–°å‡½æ•°
- **å·¥ä½œæµç³»ç»ŸæŒ‡å—**ï¼šæ–°å¢æ–‡æ¡£

### Changed
- å‡çº§é¡¹ç›®é…ç½®æ¨¡æ¿åˆ° v2.0.0ï¼š
  - æ–°å¢ `domain`, `preferences`, `decisions`, `workflowDefaults` å­—æ®µ
  - æ–°å¢ `ownerTeam` åˆ°é¡¹ç›®å…ƒæ•°æ®
- æ­¥éª¤æ–°å¢ `context_policy` å’Œ `context_needs_chat` å­—æ®µ
- æ›´æ–° README ç§æœ‰ä»“åº“å®‰è£…è¯´æ˜

---

## [1.0.2] - 2025-12-01

### Added
- **åç«¯å·¥ä½œæµæ”¯æŒ**ï¼š`workflow-backend-start.md` å‘½ä»¤
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ

---

## [1.0.0] - 2025-12-01

### Added
- åˆå§‹é¡¹ç›®ç»“æ„
- CLI å·¥å…· `claude-workflow`
- å‘½ä»¤ï¼š`sync`, `init`, `status`, `doctor`
- æ¨¡æ¿ç›®å½•ï¼š`commands`, `agents`, `utils`, `prompts`
- è‡ªåŠ¨ postinstall å®‰è£…
- ç‰ˆæœ¬å‡çº§æ™ºèƒ½åˆå¹¶ï¼ˆ3-way mergeï¼‰
- ç”¨æˆ·ä¿®æ”¹å†²çªæ£€æµ‹ï¼ˆ`.new` æ–‡ä»¶ï¼‰
